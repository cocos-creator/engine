!function n(r,i,a){function u(t,e){if(!i[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);throw(o=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",o}o=i[t]={exports:{}},r[t][0].call(o.exports,function(e){return u(r[t][1][e]||e)},o,o.exports,n,r,i,a)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={},r={setFeature:function(e,t,o){(n[e]||(n[e]={}))[t]=o},getFeatureProperty:function(e,t){e=n[e];return e?e[t]:void 0}};o.default=r},{}],2:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};r.default.exportTo("onShow",hbs,ral),r.default.exportTo("onHide",hbs,ral),r.default.exportTo("offShow",hbs,ral),r.default.exportTo("offHide",hbs,ral)},{"../../util":20}],3:[function(e,t,o){"use strict";var n;((n=e("../../util"))&&n.__esModule?n:{default:n}).default.exportTo("loadSubpackage",hbs,ral)},{"../../util":20}],4:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};r.default.exportTo("env",hbs,ral),r.default.exportTo("getSystemInfo",hbs,ral),r.default.exportTo("getSystemInfoSync",hbs,ral)},{"../../util":20}],5:[function(e,t,o){"use strict";function f(e){for(var t,o=0;o<l.length;o++)if(t=l[o],e.identifier===t.identifier)return o;return-1}function s(e,t){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}var l=[],d={touchstart:[],touchmove:[],touchend:[],touchcancel:[]};function n(e,t){for(var o=d[e]||[],n=o.length,r=0;r<n;++r)if(t===o[r])return void o.splice(r,1)}var h=!1,r=hbs.getSystemInfoSync();window.innerWidth&&r.windowWidth!==window.innerWidth&&(h=!0);r=function(c){return function(e){if("function"!=typeof e){var t,o=new TouchEvent(c);"touchstart"===c?e.forEach(function(e){0<=(t=f(e))?s(e,l[t]):(s(e,e={}),l.push(e))}):"touchmove"===c?e.forEach(function(e){0<=(t=f(e))&&s(e,l[t])}):"touchend"!==c&&"touchcancel"!==c||e.forEach(function(e){0<=(t=f(e))&&l.splice(t,1)});var r=[].concat(l),i=[];e.forEach(function(e){for(var t=r.length,o=0;o<t;++o){var n=r[o];if(e.identifier===n.identifier)return void i.push(n)}i.push(e)}),o.touches=r,o.targetTouches=r,o.changedTouches=i,h&&(r.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}),"touchcancel"!==c&&"touchend"!==c||i.forEach(function(e){e.clientX/=window.devicePixelRatio,e.clientY/=window.devicePixelRatio,e.pageX/=window.devicePixelRatio,e.pageY/=window.devicePixelRatio}));for(var n=d[c],a=n.length,u=0;u<a;u++)n[u](o)}else!function(e){for(var t=d[c],o=0,n=t.length;o<n;o++)if(e===t[o])return;t.push(e)}(e)}};hbs.onTouchStart?(ral.onTouchStart=hbs.onTouchStart,ral.offTouchStart=hbs.offTouchStart):(ral.onTouchStart=r("touchstart"),ral.offTouchStart=function(e){n("touchstart",e)}),hbs.onTouchMove?(ral.onTouchMove=hbs.onTouchMove,ral.offTouchMove=hbs.offTouchMove):(ral.onTouchMove=r("touchmove"),ral.offTouchMove=function(e){n("touchmove",e)}),hbs.onTouchCancel?(ral.onTouchCancel=hbs.onTouchCancel,ral.offTouchCancel=hbs.offTouchCancel):(ral.onTouchCancel=r("touchcancel"),ral.offTouchCancel=function(e){n("touchcancel",e)}),hbs.onTouchEnd?(ral.onTouchEnd=hbs.onTouchEnd,ral.offTouchEnd=hbs.offTouchEnd):(ral.onTouchEnd=r("touchend"),ral.offTouchEnd=function(e){n("touchend",e)})},{}],6:[function(e,t,o){"use strict";hbs.getSystemInfoSync();ral.device=ral.device||{},ral.stopAccelerometer=hbs.stopAccelerometer.bind(hbs),ral.startAccelerometer=hbs.startAccelerometer.bind(hbs),ral.onAccelerometerChange=hbs.onAccelerometerChange.bind(hbs)},{}],7:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};r.default.exportTo("getBatteryInfo",hbs,ral),r.default.exportTo("getBatteryInfoSync",hbs,ral)},{"../../util":20}],8:[function(e,t,o){"use strict";var n;((n=e("../../util"))&&n.__esModule?n:{default:n}).default.exportTo("getFileSystemManager",hbs,ral)},{"../../util":20}],9:[function(e,t,o){"use strict";var n=i(e("../util")),r=i(e("../feature"));function i(e){return e&&e.__esModule?e:{default:e}}window.ral||(window.ral={}),e("./base/lifecycle"),e("./base/subpackage"),e("./base/system-info"),e("./base/touch-event"),e("./device/accelerometer"),e("./device/battery"),e("./file/file-system-manager"),e("./interface/keyboard"),e("./interface/window"),e("./media/audio"),e("./network/download"),e("./rendering/canvas"),e("./rendering/webgl"),e("./rendering/font"),e("./rendering/frame"),e("./rendering/image"),n.default.exportTo("getFeatureProperty",r.default,ral)},{"../feature":1,"../util":20,"./base/lifecycle":2,"./base/subpackage":3,"./base/system-info":4,"./base/touch-event":5,"./device/accelerometer":6,"./device/battery":7,"./file/file-system-manager":8,"./interface/keyboard":10,"./interface/window":11,"./media/audio":12,"./network/download":13,"./rendering/canvas":14,"./rendering/font":15,"./rendering/frame":16,"./rendering/image":17,"./rendering/webgl":18}],10:[function(e,t,o){"use strict";var n,r=(n=e("../../util"))&&n.__esModule?n:{default:n};r.default.exportTo("onKeyboardInput",hbs,ral),r.default.exportTo("onKeyboardConfirm",hbs,ral),r.default.exportTo("onKeyboardComplete",hbs,ral),r.default.exportTo("offKeyboardInput",hbs,ral),r.default.exportTo("offKeyboardConfirm",hbs,ral),r.default.exportTo("offKeyboardComplete",hbs,ral),r.default.exportTo("hideKeyboard",hbs,ral),r.default.exportTo("showKeyboard",hbs,ral),r.default.exportTo("updateKeyboard",hbs,ral)},{"../../util":20}],11:[function(e,t,o){"use strict";var n=hbs.onWindowResize;ral.onWindowResize=function(t){n(function(e){t(e.width||e.windowWidth,e.height||e.windowHeight)})}},{}],12:[function(e,t,o){"use strict";var n=r(e("../../inner-context")),e=r(e("../../util"));function r(e){return e&&e.__esModule?e:{default:e}}e.default.exportTo("AudioEngine",hbs,ral),e.default.exportTo("createInnerAudioContext",hbs,ral,function(){_rt.AudioEngine&&(ral.createInnerAudioContext=function(){return(0,n.default)(hbs.AudioEngine)})})},{"../../inner-context":19,"../../util":20}],13:[function(e,t,o){"use strict";var n;((n=e("../../util"))&&n.__esModule?n:{default:n}).default.exportTo("downloadFile",hbs,ral)},{"../../util":20}],14:[function(e,t,o){"use strict";var n=i(e("../../util")),r=i(e("../../feature"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.exportTo("createCanvas",hbs,ral,function(){var e="unsupported";document&&"function"==typeof document.createElement&&(e="wrapper",ral.createCanvas=function(){return document.createElement("canvas")}),r.default.setFeature("ral.createCanvas","spec",e)})},{"../../feature":1,"../../util":20}],15:[function(e,t,o){"use strict";var n;((n=e("../../util"))&&n.__esModule?n:{default:n}).default.exportTo("loadFont",hbs,ral)},{"../../util":20}],16:[function(e,t,o){"use strict";jsb.setPreferredFramesPerSecond?ral.setPreferredFramesPerSecond=jsb.setPreferredFramesPerSecond.bind(jsb):hbs.setPreferredFramesPerSecond?ral.setPreferredFramesPerSecond=hbs.setPreferredFramesPerSecond.bind(hbs):ral.setPreferredFramesPerSecond=function(){console.error("The setPreferredFramesPerSecond is not define!")}},{}],17:[function(e,t,o){"use strict";var n=i(e("../../util")),r=i(e("../../feature"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.exportTo("loadImageData",hbs,ral,function(){"function"==typeof ral.loadImage?ral.loadImageData=ral.loadImage:console.error("loadImageData is not function")}),n.default.exportTo("createImage",hbs,ral,function(){var e="unsupported";document&&"function"==typeof document.createElement&&(e="wrapper",ral.createImage=function(){return document.createElement("image")}),r.default.setFeature("ral.createImage","spec",e)})},{"../../feature":1,"../../util":20}],18:[function(e,t,o){"use strict";var n,d,h;window.__gl&&(n=window.__gl,d=n.texImage2D,n.texImage2D=function(e,t,o,n,r,i,a,u,c){var f,s,l=arguments.length;6===l?(u=r,a=n,(f=i)instanceof HTMLImageElement?d(e,t,f._glInternalFormat,f.width,f.height,0,f._glFormat,f._glType,f._data):f instanceof HTMLCanvasElement?f._context2D&&f._context2D._getData?(s=f._context2D._getData(),d(e,t,o,f.width,f.height,0,a,u,s)):console.error("Invalid image argument gl.texImage2D!"):f.height&&f.width&&f.data?(s=console.error,console.error=function(){},d(e,t,o,f.width,f.height,0,a,u,f.data),console.error=s):console.error("Invalid pixel argument passed to gl.texImage2D!")):9===l?d(e,t,o,n,r,i,a,u,c):console.error("gl.texImage2D: invalid argument count!")},h=n.texSubImage2D,n.texSubImage2D=function(e,t,o,n,r,i,a,u,c){var f,s,l=arguments.length;7===l?(f=a,u=i,a=r,f instanceof HTMLImageElement?h(e,t,o,n,f.width,f.height,f._glFormat,f._glType,f._data):f instanceof HTMLCanvasElement?f._context2D&&f._context2D._getData?(s=f._context2D._getData(),h(e,t,o,n,f.width,f.height,a,u,s)):console.error("Invalid image argument gl.texSubImage2D!"):f.height&&f.width&&f.data?(s=console.error,console.error=function(){},h(e,t,o,n,f.width,f.height,a,u,f.data),console.error=s):console.error("Invalid pixel argument passed to gl.texSubImage2D!")):9===l?h(e,t,o,n,r,i,a,u,c):console.error(new Error("gl.texImage2D: invalid argument count!").stack)})},{}],19:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t){void 0===v&&(v=Object.assign({},t),Object.keys(t).forEach(function(e){"function"==typeof t[e]&&(t[e]=function(){return console.warn("AudioEngine."+e+" is deprecated"),v[e].apply(t,arguments)})}));return new w};function n(e,t,o){if(e=y.get(e),"function"!=typeof o||!e)return-1;for(var n=e[t]||[],r=0,i=n.length;r<i;++r)if(o===n[r])return n.splice(r,1),o.length+1;return 0}function r(e,t,o){if(e=y.get(e),"function"!=typeof o||!e)return-1;var n=e[t];if(n){for(var r=0,i=n.length;r<i;++r)if(o===n[r])return 0;n.push(o)}else n=e[t]=[o];return n.length}var i="canplayCallbacks",a="endedCallbacks",u="errorCallbacks",c="pauseCallbacks",f="playCallbacks",s="seekedCallbacks",l="seekingCallbacks",d="stopCallbacks",h="timeUpdateCallbacks",p="waitingCallbacks",g=10003,b=-1,m={ERROR:-1,INITIALIZING:0,PLAYING:1,PAUSED:2},v=void 0,y=new WeakMap,T=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=y.get(e);if(n)for(var r=n[t]||[],i=0,a=r.length;i<a;++i)r[i].apply(e,o)};function w(){this.startTime=0,this.autoplay=!1,y.set(this,{src:"",volume:1,loop:!1}),Object.defineProperty(this,"loop",{set:function(e){e=!!e;var t,o=y.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&v.setLoop(t,e),o.loop=e)},get:function(){var e=y.get(this);return!!e&&e.loop}}),Object.defineProperty(this,"volume",{set:function(e){"number"==typeof e?e<0?e=0:1<e&&(e=1):e=1;var t,o=y.get(this);o&&("number"==typeof(t=o.audioID)&&0<=t&&v.setVolume(t,e),o.volume=e)},get:function(){var e=y.get(this);return e?e.volume:1}}),Object.defineProperty(this,"src",{set:function(e){var t,o,n,r=y.get(this);r&&(t=r.src,"string"==typeof(r.src=e)&&("number"==typeof(o=r.audioID)&&0<=o&&v.getState(o)===m.PAUSED&&t!==e&&(v.stop(o),r.audioID=-1),n=this,v.preload(e,function(){setTimeout(function(){n.src===e&&(T(n,i),n.autoplay&&n.play())})})))},get:function(){var e=y.get(this);return e?e.src:""}}),Object.defineProperty(this,"duration",{get:function(){var e=y.get(this);if(e){e=e.audioID;if("number"==typeof e&&0<=e)return v.getDuration(e)}return NaN},set:function(){}}),Object.defineProperty(this,"currentTime",{get:function(){var e=y.get(this);if(e){e=e.audioID;if("number"==typeof e&&0<=e)return v.getCurrentTime(e)}return 0},set:function(){}}),Object.defineProperty(this,"paused",{get:function(){var e=y.get(this);if(e){e=e.audioID;if("number"==typeof e&&0<=e)return v.getState(e)===m.PAUSED}return!0},set:function(){}}),Object.defineProperty(this,"buffered",{get:function(){var e=y.get(this);if(e){e=e.audioID;if("number"==typeof e&&0<=e)return v.getBuffered(e)}return 0},set:function(){}})}o=w.prototype;o.destroy=function(){var e,t=y.get(this);t&&("number"==typeof(e=t.audioID)&&0<=e&&(v.stop(e),t.audioID=-1,T(this,d)),t[i]=[],t[a]=[],t[u]=[],t[c]=[],t[f]=[],t[s]=[],t[l]=[],t[d]=[],t[h]=[],t[p]=[],clearInterval(t.intervalID))},o.play=function(){var e=y.get(this);if(e){var t,o=e.src,n=e.audioID;if("string"==typeof o&&""!==o){if("number"==typeof n&&0<=n){if(v.getState(n)===m.PAUSED)return v.resume(n),void T(this,f);v.stop(n),e.audioID=-1}-1!==(n=v.play(o,this.loop,this.volume))?(e.audioID=n,"number"==typeof this.startTime&&0<this.startTime&&v.setCurrentTime(n,this.startTime),T(this,p),t=this,v.setCanPlayCallback(n,function(){o===t.src&&(T(t,i),T(t,f))}),v.setWaitingCallback(n,function(){o===t.src&&T(t,p)}),v.setErrorCallback(n,function(){o===t.src&&(e.audioID=-1,T(t,u))}),v.setFinishCallback(n,function(){o===t.src&&(e.audioID=-1,T(t,a))})):T(this,u,[{errMsg:"unknown",errCode:b}])}else T(this,u,[{errMsg:"invalid src",errCode:g}])}},o.pause=function(){var e=y.get(this);!e||"number"==typeof(e=e.audioID)&&0<=e&&(v.pause(e),T(this,c))},o.seek=function(e){var t=y.get(this);t&&"number"==typeof e&&0<=e&&("number"==typeof(t=t.audioID)&&0<=t&&(v.setCurrentTime(t,e),T(this,l),T(this,s)))},o.stop=function(){var e,t=y.get(this);!t||"number"==typeof(e=t.audioID)&&0<=e&&(v.stop(e),t.audioID=-1,T(this,d))},o.offCanplay=function(e){n(this,i,e)},o.offEnded=function(e){n(this,a,e)},o.offError=function(e){n(this,u,e)},o.offPause=function(e){n(this,c,e)},o.offPlay=function(e){n(this,f,e)},o.offSeeked=function(e){n(this,s,e)},o.offSeeking=function(e){n(this,l,e)},o.offStop=function(e){n(this,d,e)},o.offTimeUpdate=function(e){1===n(this,h,e)&&clearInterval(y.get(this).intervalID)},o.offWaiting=function(e){n(this,p,e)},o.onCanplay=function(e){r(this,i,e)},o.onEnded=function(e){r(this,a,e)},o.onError=function(e){r(this,u,e)},o.onPause=function(e){r(this,c,e)},o.onPlay=function(e){r(this,f,e)},o.onSeeked=function(e){r(this,s,e)},o.onSeeking=function(e){r(this,"seekingCallbacks",e)},o.onStop=function(e){r(this,d,e)},o.onTimeUpdate=function(e){var t,o;1===r(this,h,e)&&(e=y.get(this),t=this,o=setInterval(function(){var e=y.get(t);e?"number"==typeof(e=e.audioID)&&0<=e&&v.getState(e)===m.PLAYING&&T(t,h):clearInterval(o)},500),e.intervalID=o)},o.onWaiting=function(e){r(this,p,e)}},{}],20:[function(e,t,o){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={exportTo:function(e,t,o,n){var r;"object"===i(t)&&"object"===i(o)?void 0!==(r=t[e])?"function"==typeof r?(o[e]=r.bind(t),Object.assign(o[e],r)):o[e]=r:(o[e]=function(){return console.error(e+" is not support!"),{}},"function"==typeof n&&n()):console.warn("invalid exportTo: ",e)}};o.default=n},{}]},{},[9]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqc2IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uIG4ocixpLGEpe2Z1bmN0aW9uIHUodCxlKXtpZighaVt0XSl7aWYoIXJbdF0pe3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWUmJm8pcmV0dXJuIG8odCwhMCk7aWYoYylyZXR1cm4gYyh0LCEwKTt0aHJvdyhvPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrdCtcIidcIikpLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsb31vPWlbdF09e2V4cG9ydHM6e319LHJbdF1bMF0uY2FsbChvLmV4cG9ydHMsZnVuY3Rpb24oZSl7cmV0dXJuIHUoclt0XVsxXVtlXXx8ZSl9LG8sby5leHBvcnRzLG4scixpLGEpfXJldHVybiBpW3RdLmV4cG9ydHN9Zm9yKHZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsZT0wO2U8YS5sZW5ndGg7ZSsrKXUoYVtlXSk7cmV0dXJuIHV9KHsxOltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksby5kZWZhdWx0PXZvaWQgMDt2YXIgbj17fSxyPXtzZXRGZWF0dXJlOmZ1bmN0aW9uKGUsdCxvKXsobltlXXx8KG5bZV09e30pKVt0XT1vfSxnZXRGZWF0dXJlUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXtlPW5bZV07cmV0dXJuIGU/ZVt0XTp2b2lkIDB9fTtvLmRlZmF1bHQ9cn0se31dLDI6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixyPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07ci5kZWZhdWx0LmV4cG9ydFRvKFwib25TaG93XCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwib25IaWRlXCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwib2ZmU2hvd1wiLGhicyxyYWwpLHIuZGVmYXVsdC5leHBvcnRUbyhcIm9mZkhpZGVcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sMzpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuOygobj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59KS5kZWZhdWx0LmV4cG9ydFRvKFwibG9hZFN1YnBhY2thZ2VcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sNDpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuLHI9KG49ZShcIi4uLy4uL3V0aWxcIikpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufTtyLmRlZmF1bHQuZXhwb3J0VG8oXCJlbnZcIixoYnMscmFsKSxyLmRlZmF1bHQuZXhwb3J0VG8oXCJnZXRTeXN0ZW1JbmZvXCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0U3lzdGVtSW5mb1N5bmNcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sNTpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGYoZSl7Zm9yKHZhciB0LG89MDtvPGwubGVuZ3RoO28rKylpZih0PWxbb10sZS5pZGVudGlmaWVyPT09dC5pZGVudGlmaWVyKXJldHVybiBvO3JldHVybi0xfWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIG8gaW4gZSllLmhhc093blByb3BlcnR5KG8pJiYodFtvXT1lW29dKX12YXIgbD1bXSxkPXt0b3VjaHN0YXJ0OltdLHRvdWNobW92ZTpbXSx0b3VjaGVuZDpbXSx0b3VjaGNhbmNlbDpbXX07ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgbz1kW2VdfHxbXSxuPW8ubGVuZ3RoLHI9MDtyPG47KytyKWlmKHQ9PT1vW3JdKXJldHVybiB2b2lkIG8uc3BsaWNlKHIsMSl9dmFyIGg9ITEscj1oYnMuZ2V0U3lzdGVtSW5mb1N5bmMoKTt3aW5kb3cuaW5uZXJXaWR0aCYmci53aW5kb3dXaWR0aCE9PXdpbmRvdy5pbm5lcldpZHRoJiYoaD0hMCk7cj1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIHQsbz1uZXcgVG91Y2hFdmVudChjKTtcInRvdWNoc3RhcnRcIj09PWM/ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpezA8PSh0PWYoZSkpP3MoZSxsW3RdKToocyhlLGU9e30pLGwucHVzaChlKSl9KTpcInRvdWNobW92ZVwiPT09Yz9lLmZvckVhY2goZnVuY3Rpb24oZSl7MDw9KHQ9ZihlKSkmJnMoZSxsW3RdKX0pOlwidG91Y2hlbmRcIiE9PWMmJlwidG91Y2hjYW5jZWxcIiE9PWN8fGUuZm9yRWFjaChmdW5jdGlvbihlKXswPD0odD1mKGUpKSYmbC5zcGxpY2UodCwxKX0pO3ZhciByPVtdLmNvbmNhdChsKSxpPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9ci5sZW5ndGgsbz0wO288dDsrK28pe3ZhciBuPXJbb107aWYoZS5pZGVudGlmaWVyPT09bi5pZGVudGlmaWVyKXJldHVybiB2b2lkIGkucHVzaChuKX1pLnB1c2goZSl9KSxvLnRvdWNoZXM9cixvLnRhcmdldFRvdWNoZXM9cixvLmNoYW5nZWRUb3VjaGVzPWksaCYmKHIuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNsaWVudFgvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGUuY2xpZW50WS89d2luZG93LmRldmljZVBpeGVsUmF0aW8sZS5wYWdlWC89d2luZG93LmRldmljZVBpeGVsUmF0aW8sZS5wYWdlWS89d2luZG93LmRldmljZVBpeGVsUmF0aW99KSxcInRvdWNoY2FuY2VsXCIhPT1jJiZcInRvdWNoZW5kXCIhPT1jfHxpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jbGllbnRYLz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxlLmNsaWVudFkvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGUucGFnZVgvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGUucGFnZVkvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfSkpO2Zvcih2YXIgbj1kW2NdLGE9bi5sZW5ndGgsdT0wO3U8YTt1Kyspblt1XShvKX1lbHNlIWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kW2NdLG89MCxuPXQubGVuZ3RoO288bjtvKyspaWYoZT09PXRbb10pcmV0dXJuO3QucHVzaChlKX0oZSl9fTtoYnMub25Ub3VjaFN0YXJ0PyhyYWwub25Ub3VjaFN0YXJ0PWhicy5vblRvdWNoU3RhcnQscmFsLm9mZlRvdWNoU3RhcnQ9aGJzLm9mZlRvdWNoU3RhcnQpOihyYWwub25Ub3VjaFN0YXJ0PXIoXCJ0b3VjaHN0YXJ0XCIpLHJhbC5vZmZUb3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe24oXCJ0b3VjaHN0YXJ0XCIsZSl9KSxoYnMub25Ub3VjaE1vdmU/KHJhbC5vblRvdWNoTW92ZT1oYnMub25Ub3VjaE1vdmUscmFsLm9mZlRvdWNoTW92ZT1oYnMub2ZmVG91Y2hNb3ZlKToocmFsLm9uVG91Y2hNb3ZlPXIoXCJ0b3VjaG1vdmVcIikscmFsLm9mZlRvdWNoTW92ZT1mdW5jdGlvbihlKXtuKFwidG91Y2htb3ZlXCIsZSl9KSxoYnMub25Ub3VjaENhbmNlbD8ocmFsLm9uVG91Y2hDYW5jZWw9aGJzLm9uVG91Y2hDYW5jZWwscmFsLm9mZlRvdWNoQ2FuY2VsPWhicy5vZmZUb3VjaENhbmNlbCk6KHJhbC5vblRvdWNoQ2FuY2VsPXIoXCJ0b3VjaGNhbmNlbFwiKSxyYWwub2ZmVG91Y2hDYW5jZWw9ZnVuY3Rpb24oZSl7bihcInRvdWNoY2FuY2VsXCIsZSl9KSxoYnMub25Ub3VjaEVuZD8ocmFsLm9uVG91Y2hFbmQ9aGJzLm9uVG91Y2hFbmQscmFsLm9mZlRvdWNoRW5kPWhicy5vZmZUb3VjaEVuZCk6KHJhbC5vblRvdWNoRW5kPXIoXCJ0b3VjaGVuZFwiKSxyYWwub2ZmVG91Y2hFbmQ9ZnVuY3Rpb24oZSl7bihcInRvdWNoZW5kXCIsZSl9KX0se31dLDY6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjtoYnMuZ2V0U3lzdGVtSW5mb1N5bmMoKTtyYWwuZGV2aWNlPXJhbC5kZXZpY2V8fHt9LHJhbC5zdG9wQWNjZWxlcm9tZXRlcj1oYnMuc3RvcEFjY2VsZXJvbWV0ZXIuYmluZChoYnMpLHJhbC5zdGFydEFjY2VsZXJvbWV0ZXI9aGJzLnN0YXJ0QWNjZWxlcm9tZXRlci5iaW5kKGhicykscmFsLm9uQWNjZWxlcm9tZXRlckNoYW5nZT1oYnMub25BY2NlbGVyb21ldGVyQ2hhbmdlLmJpbmQoaGJzKX0se31dLDc6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixyPShuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07ci5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0QmF0dGVyeUluZm9cIixoYnMscmFsKSxyLmRlZmF1bHQuZXhwb3J0VG8oXCJnZXRCYXR0ZXJ5SW5mb1N5bmNcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sODpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuOygobj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59KS5kZWZhdWx0LmV4cG9ydFRvKFwiZ2V0RmlsZVN5c3RlbU1hbmFnZXJcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sOTpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuPWkoZShcIi4uL3V0aWxcIikpLHI9aShlKFwiLi4vZmVhdHVyZVwiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19d2luZG93LnJhbHx8KHdpbmRvdy5yYWw9e30pLGUoXCIuL2Jhc2UvbGlmZWN5Y2xlXCIpLGUoXCIuL2Jhc2Uvc3VicGFja2FnZVwiKSxlKFwiLi9iYXNlL3N5c3RlbS1pbmZvXCIpLGUoXCIuL2Jhc2UvdG91Y2gtZXZlbnRcIiksZShcIi4vZGV2aWNlL2FjY2VsZXJvbWV0ZXJcIiksZShcIi4vZGV2aWNlL2JhdHRlcnlcIiksZShcIi4vZmlsZS9maWxlLXN5c3RlbS1tYW5hZ2VyXCIpLGUoXCIuL2ludGVyZmFjZS9rZXlib2FyZFwiKSxlKFwiLi9pbnRlcmZhY2Uvd2luZG93XCIpLGUoXCIuL21lZGlhL2F1ZGlvXCIpLGUoXCIuL25ldHdvcmsvZG93bmxvYWRcIiksZShcIi4vcmVuZGVyaW5nL2NhbnZhc1wiKSxlKFwiLi9yZW5kZXJpbmcvd2ViZ2xcIiksZShcIi4vcmVuZGVyaW5nL2ZvbnRcIiksZShcIi4vcmVuZGVyaW5nL2ZyYW1lXCIpLGUoXCIuL3JlbmRlcmluZy9pbWFnZVwiKSxuLmRlZmF1bHQuZXhwb3J0VG8oXCJnZXRGZWF0dXJlUHJvcGVydHlcIixyLmRlZmF1bHQscmFsKX0se1wiLi4vZmVhdHVyZVwiOjEsXCIuLi91dGlsXCI6MjAsXCIuL2Jhc2UvbGlmZWN5Y2xlXCI6MixcIi4vYmFzZS9zdWJwYWNrYWdlXCI6MyxcIi4vYmFzZS9zeXN0ZW0taW5mb1wiOjQsXCIuL2Jhc2UvdG91Y2gtZXZlbnRcIjo1LFwiLi9kZXZpY2UvYWNjZWxlcm9tZXRlclwiOjYsXCIuL2RldmljZS9iYXR0ZXJ5XCI6NyxcIi4vZmlsZS9maWxlLXN5c3RlbS1tYW5hZ2VyXCI6OCxcIi4vaW50ZXJmYWNlL2tleWJvYXJkXCI6MTAsXCIuL2ludGVyZmFjZS93aW5kb3dcIjoxMSxcIi4vbWVkaWEvYXVkaW9cIjoxMixcIi4vbmV0d29yay9kb3dubG9hZFwiOjEzLFwiLi9yZW5kZXJpbmcvY2FudmFzXCI6MTQsXCIuL3JlbmRlcmluZy9mb250XCI6MTUsXCIuL3JlbmRlcmluZy9mcmFtZVwiOjE2LFwiLi9yZW5kZXJpbmcvaW1hZ2VcIjoxNyxcIi4vcmVuZGVyaW5nL3dlYmdsXCI6MTh9XSwxMDpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuLHI9KG49ZShcIi4uLy4uL3V0aWxcIikpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufTtyLmRlZmF1bHQuZXhwb3J0VG8oXCJvbktleWJvYXJkSW5wdXRcIixoYnMscmFsKSxyLmRlZmF1bHQuZXhwb3J0VG8oXCJvbktleWJvYXJkQ29uZmlybVwiLGhicyxyYWwpLHIuZGVmYXVsdC5leHBvcnRUbyhcIm9uS2V5Ym9hcmRDb21wbGV0ZVwiLGhicyxyYWwpLHIuZGVmYXVsdC5leHBvcnRUbyhcIm9mZktleWJvYXJkSW5wdXRcIixoYnMscmFsKSxyLmRlZmF1bHQuZXhwb3J0VG8oXCJvZmZLZXlib2FyZENvbmZpcm1cIixoYnMscmFsKSxyLmRlZmF1bHQuZXhwb3J0VG8oXCJvZmZLZXlib2FyZENvbXBsZXRlXCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwiaGlkZUtleWJvYXJkXCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwic2hvd0tleWJvYXJkXCIsaGJzLHJhbCksci5kZWZhdWx0LmV4cG9ydFRvKFwidXBkYXRlS2V5Ym9hcmRcIixoYnMscmFsKX0se1wiLi4vLi4vdXRpbFwiOjIwfV0sMTE6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1oYnMub25XaW5kb3dSZXNpemU7cmFsLm9uV2luZG93UmVzaXplPWZ1bmN0aW9uKHQpe24oZnVuY3Rpb24oZSl7dChlLndpZHRofHxlLndpbmRvd1dpZHRoLGUuaGVpZ2h0fHxlLndpbmRvd0hlaWdodCl9KX19LHt9XSwxMjpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuPXIoZShcIi4uLy4uL2lubmVyLWNvbnRleHRcIikpLGU9cihlKFwiLi4vLi4vdXRpbFwiKSk7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZS5kZWZhdWx0LmV4cG9ydFRvKFwiQXVkaW9FbmdpbmVcIixoYnMscmFsKSxlLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVJbm5lckF1ZGlvQ29udGV4dFwiLGhicyxyYWwsZnVuY3Rpb24oKXtfcnQuQXVkaW9FbmdpbmUmJihyYWwuY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4oMCxuLmRlZmF1bHQpKGhicy5BdWRpb0VuZ2luZSl9KX0pfSx7XCIuLi8uLi9pbm5lci1jb250ZXh0XCI6MTksXCIuLi8uLi91dGlsXCI6MjB9XSwxMzpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO3ZhciBuOygobj1lKFwiLi4vLi4vdXRpbFwiKSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59KS5kZWZhdWx0LmV4cG9ydFRvKFwiZG93bmxvYWRGaWxlXCIsaGJzLHJhbCl9LHtcIi4uLy4uL3V0aWxcIjoyMH1dLDE0OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aShlKFwiLi4vLi4vdXRpbFwiKSkscj1pKGUoXCIuLi8uLi9mZWF0dXJlXCIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1uLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVDYW52YXNcIixoYnMscmFsLGZ1bmN0aW9uKCl7dmFyIGU9XCJ1bnN1cHBvcnRlZFwiO2RvY3VtZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50JiYoZT1cIndyYXBwZXJcIixyYWwuY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIil9KSxyLmRlZmF1bHQuc2V0RmVhdHVyZShcInJhbC5jcmVhdGVDYW52YXNcIixcInNwZWNcIixlKX0pfSx7XCIuLi8uLi9mZWF0dXJlXCI6MSxcIi4uLy4uL3V0aWxcIjoyMH1dLDE1OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG47KChuPWUoXCIuLi8uLi91dGlsXCIpKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn0pLmRlZmF1bHQuZXhwb3J0VG8oXCJsb2FkRm9udFwiLGhicyxyYWwpfSx7XCIuLi8uLi91dGlsXCI6MjB9XSwxNjpbZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO2pzYi5zZXRQcmVmZXJyZWRGcmFtZXNQZXJTZWNvbmQ/cmFsLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZD1qc2Iuc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kLmJpbmQoanNiKTpoYnMuc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kP3JhbC5zZXRQcmVmZXJyZWRGcmFtZXNQZXJTZWNvbmQ9aGJzLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZC5iaW5kKGhicyk6cmFsLnNldFByZWZlcnJlZEZyYW1lc1BlclNlY29uZD1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUaGUgc2V0UHJlZmVycmVkRnJhbWVzUGVyU2Vjb25kIGlzIG5vdCBkZWZpbmUhXCIpfX0se31dLDE3OltmdW5jdGlvbihlLHQsbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aShlKFwiLi4vLi4vdXRpbFwiKSkscj1pKGUoXCIuLi8uLi9mZWF0dXJlXCIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1uLmRlZmF1bHQuZXhwb3J0VG8oXCJsb2FkSW1hZ2VEYXRhXCIsaGJzLHJhbCxmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHJhbC5sb2FkSW1hZ2U/cmFsLmxvYWRJbWFnZURhdGE9cmFsLmxvYWRJbWFnZTpjb25zb2xlLmVycm9yKFwibG9hZEltYWdlRGF0YSBpcyBub3QgZnVuY3Rpb25cIil9KSxuLmRlZmF1bHQuZXhwb3J0VG8oXCJjcmVhdGVJbWFnZVwiLGhicyxyYWwsZnVuY3Rpb24oKXt2YXIgZT1cInVuc3VwcG9ydGVkXCI7ZG9jdW1lbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQmJihlPVwid3JhcHBlclwiLHJhbC5jcmVhdGVJbWFnZT1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1hZ2VcIil9KSxyLmRlZmF1bHQuc2V0RmVhdHVyZShcInJhbC5jcmVhdGVJbWFnZVwiLFwic3BlY1wiLGUpfSl9LHtcIi4uLy4uL2ZlYXR1cmVcIjoxLFwiLi4vLi4vdXRpbFwiOjIwfV0sMTg6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbixkLGg7d2luZG93Ll9fZ2wmJihuPXdpbmRvdy5fX2dsLGQ9bi50ZXhJbWFnZTJELG4udGV4SW1hZ2UyRD1mdW5jdGlvbihlLHQsbyxuLHIsaSxhLHUsYyl7dmFyIGYscyxsPWFyZ3VtZW50cy5sZW5ndGg7Nj09PWw/KHU9cixhPW4sKGY9aSlpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/ZChlLHQsZi5fZ2xJbnRlcm5hbEZvcm1hdCxmLndpZHRoLGYuaGVpZ2h0LDAsZi5fZ2xGb3JtYXQsZi5fZ2xUeXBlLGYuX2RhdGEpOmYgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD9mLl9jb250ZXh0MkQmJmYuX2NvbnRleHQyRC5fZ2V0RGF0YT8ocz1mLl9jb250ZXh0MkQuX2dldERhdGEoKSxkKGUsdCxvLGYud2lkdGgsZi5oZWlnaHQsMCxhLHUscykpOmNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGltYWdlIGFyZ3VtZW50IGdsLnRleEltYWdlMkQhXCIpOmYuaGVpZ2h0JiZmLndpZHRoJiZmLmRhdGE/KHM9Y29uc29sZS5lcnJvcixjb25zb2xlLmVycm9yPWZ1bmN0aW9uKCl7fSxkKGUsdCxvLGYud2lkdGgsZi5oZWlnaHQsMCxhLHUsZi5kYXRhKSxjb25zb2xlLmVycm9yPXMpOmNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHBpeGVsIGFyZ3VtZW50IHBhc3NlZCB0byBnbC50ZXhJbWFnZTJEIVwiKSk6OT09PWw/ZChlLHQsbyxuLHIsaSxhLHUsYyk6Y29uc29sZS5lcnJvcihcImdsLnRleEltYWdlMkQ6IGludmFsaWQgYXJndW1lbnQgY291bnQhXCIpfSxoPW4udGV4U3ViSW1hZ2UyRCxuLnRleFN1YkltYWdlMkQ9ZnVuY3Rpb24oZSx0LG8sbixyLGksYSx1LGMpe3ZhciBmLHMsbD1hcmd1bWVudHMubGVuZ3RoOzc9PT1sPyhmPWEsdT1pLGE9cixmIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9oKGUsdCxvLG4sZi53aWR0aCxmLmhlaWdodCxmLl9nbEZvcm1hdCxmLl9nbFR5cGUsZi5fZGF0YSk6ZiBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P2YuX2NvbnRleHQyRCYmZi5fY29udGV4dDJELl9nZXREYXRhPyhzPWYuX2NvbnRleHQyRC5fZ2V0RGF0YSgpLGgoZSx0LG8sbixmLndpZHRoLGYuaGVpZ2h0LGEsdSxzKSk6Y29uc29sZS5lcnJvcihcIkludmFsaWQgaW1hZ2UgYXJndW1lbnQgZ2wudGV4U3ViSW1hZ2UyRCFcIik6Zi5oZWlnaHQmJmYud2lkdGgmJmYuZGF0YT8ocz1jb25zb2xlLmVycm9yLGNvbnNvbGUuZXJyb3I9ZnVuY3Rpb24oKXt9LGgoZSx0LG8sbixmLndpZHRoLGYuaGVpZ2h0LGEsdSxmLmRhdGEpLGNvbnNvbGUuZXJyb3I9cyk6Y29uc29sZS5lcnJvcihcIkludmFsaWQgcGl4ZWwgYXJndW1lbnQgcGFzc2VkIHRvIGdsLnRleFN1YkltYWdlMkQhXCIpKTo5PT09bD9oKGUsdCxvLG4scixpLGEsdSxjKTpjb25zb2xlLmVycm9yKG5ldyBFcnJvcihcImdsLnRleEltYWdlMkQ6IGludmFsaWQgYXJndW1lbnQgY291bnQhXCIpLnN0YWNrKX0pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvLmRlZmF1bHQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09diYmKHY9T2JqZWN0LmFzc2lnbih7fSx0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbZV0mJih0W2VdPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkF1ZGlvRW5naW5lLlwiK2UrXCIgaXMgZGVwcmVjYXRlZFwiKSx2W2VdLmFwcGx5KHQsYXJndW1lbnRzKX0pfSkpO3JldHVybiBuZXcgd307ZnVuY3Rpb24gbihlLHQsbyl7aWYoZT15LmdldChlKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBvfHwhZSlyZXR1cm4tMTtmb3IodmFyIG49ZVt0XXx8W10scj0wLGk9bi5sZW5ndGg7cjxpOysrcilpZihvPT09bltyXSlyZXR1cm4gbi5zcGxpY2UociwxKSxvLmxlbmd0aCsxO3JldHVybiAwfWZ1bmN0aW9uIHIoZSx0LG8pe2lmKGU9eS5nZXQoZSksXCJmdW5jdGlvblwiIT10eXBlb2Ygb3x8IWUpcmV0dXJuLTE7dmFyIG49ZVt0XTtpZihuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO3I8aTsrK3IpaWYobz09PW5bcl0pcmV0dXJuIDA7bi5wdXNoKG8pfWVsc2Ugbj1lW3RdPVtvXTtyZXR1cm4gbi5sZW5ndGh9dmFyIGk9XCJjYW5wbGF5Q2FsbGJhY2tzXCIsYT1cImVuZGVkQ2FsbGJhY2tzXCIsdT1cImVycm9yQ2FsbGJhY2tzXCIsYz1cInBhdXNlQ2FsbGJhY2tzXCIsZj1cInBsYXlDYWxsYmFja3NcIixzPVwic2Vla2VkQ2FsbGJhY2tzXCIsbD1cInNlZWtpbmdDYWxsYmFja3NcIixkPVwic3RvcENhbGxiYWNrc1wiLGg9XCJ0aW1lVXBkYXRlQ2FsbGJhY2tzXCIscD1cIndhaXRpbmdDYWxsYmFja3NcIixnPTEwMDAzLGI9LTEsbT17RVJST1I6LTEsSU5JVElBTElaSU5HOjAsUExBWUlORzoxLFBBVVNFRDoyfSx2PXZvaWQgMCx5PW5ldyBXZWFrTWFwLFQ9ZnVuY3Rpb24oZSx0KXt2YXIgbz0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06W10sbj15LmdldChlKTtpZihuKWZvcih2YXIgcj1uW3RdfHxbXSxpPTAsYT1yLmxlbmd0aDtpPGE7KytpKXJbaV0uYXBwbHkoZSxvKX07ZnVuY3Rpb24gdygpe3RoaXMuc3RhcnRUaW1lPTAsdGhpcy5hdXRvcGxheT0hMSx5LnNldCh0aGlzLHtzcmM6XCJcIix2b2x1bWU6MSxsb29wOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsb29wXCIse3NldDpmdW5jdGlvbihlKXtlPSEhZTt2YXIgdCxvPXkuZ2V0KHRoaXMpO28mJihcIm51bWJlclwiPT10eXBlb2YodD1vLmF1ZGlvSUQpJiYwPD10JiZ2LnNldExvb3AodCxlKSxvLmxvb3A9ZSl9LGdldDpmdW5jdGlvbigpe3ZhciBlPXkuZ2V0KHRoaXMpO3JldHVybiEhZSYmZS5sb29wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidm9sdW1lXCIse3NldDpmdW5jdGlvbihlKXtcIm51bWJlclwiPT10eXBlb2YgZT9lPDA/ZT0wOjE8ZSYmKGU9MSk6ZT0xO3ZhciB0LG89eS5nZXQodGhpcyk7byYmKFwibnVtYmVyXCI9PXR5cGVvZih0PW8uYXVkaW9JRCkmJjA8PXQmJnYuc2V0Vm9sdW1lKHQsZSksby52b2x1bWU9ZSl9LGdldDpmdW5jdGlvbigpe3ZhciBlPXkuZ2V0KHRoaXMpO3JldHVybiBlP2Uudm9sdW1lOjF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzcmNcIix7c2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG8sbixyPXkuZ2V0KHRoaXMpO3ImJih0PXIuc3JjLFwic3RyaW5nXCI9PXR5cGVvZihyLnNyYz1lKSYmKFwibnVtYmVyXCI9PXR5cGVvZihvPXIuYXVkaW9JRCkmJjA8PW8mJnYuZ2V0U3RhdGUobyk9PT1tLlBBVVNFRCYmdCE9PWUmJih2LnN0b3Aobyksci5hdWRpb0lEPS0xKSxuPXRoaXMsdi5wcmVsb2FkKGUsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5zcmM9PT1lJiYoVChuLGkpLG4uYXV0b3BsYXkmJm4ucGxheSgpKX0pfSkpKX0sZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9eS5nZXQodGhpcyk7cmV0dXJuIGU/ZS5zcmM6XCJcIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImR1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXkuZ2V0KHRoaXMpO2lmKGUpe2U9ZS5hdWRpb0lEO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lKXJldHVybiB2LmdldER1cmF0aW9uKGUpfXJldHVybiBOYU59LHNldDpmdW5jdGlvbigpe319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImN1cnJlbnRUaW1lXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXkuZ2V0KHRoaXMpO2lmKGUpe2U9ZS5hdWRpb0lEO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lKXJldHVybiB2LmdldEN1cnJlbnRUaW1lKGUpfXJldHVybiAwfSxzZXQ6ZnVuY3Rpb24oKXt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9eS5nZXQodGhpcyk7aWYoZSl7ZT1lLmF1ZGlvSUQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJjA8PWUpcmV0dXJuIHYuZ2V0U3RhdGUoZSk9PT1tLlBBVVNFRH1yZXR1cm4hMH0sc2V0OmZ1bmN0aW9uKCl7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiYnVmZmVyZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9eS5nZXQodGhpcyk7aWYoZSl7ZT1lLmF1ZGlvSUQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJjA8PWUpcmV0dXJuIHYuZ2V0QnVmZmVyZWQoZSl9cmV0dXJuIDB9LHNldDpmdW5jdGlvbigpe319KX1vPXcucHJvdG90eXBlO28uZGVzdHJveT1mdW5jdGlvbigpe3ZhciBlLHQ9eS5nZXQodGhpcyk7dCYmKFwibnVtYmVyXCI9PXR5cGVvZihlPXQuYXVkaW9JRCkmJjA8PWUmJih2LnN0b3AoZSksdC5hdWRpb0lEPS0xLFQodGhpcyxkKSksdFtpXT1bXSx0W2FdPVtdLHRbdV09W10sdFtjXT1bXSx0W2ZdPVtdLHRbc109W10sdFtsXT1bXSx0W2RdPVtdLHRbaF09W10sdFtwXT1bXSxjbGVhckludGVydmFsKHQuaW50ZXJ2YWxJRCkpfSxvLnBsYXk9ZnVuY3Rpb24oKXt2YXIgZT15LmdldCh0aGlzKTtpZihlKXt2YXIgdCxvPWUuc3JjLG49ZS5hdWRpb0lEO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvJiZcIlwiIT09byl7aWYoXCJudW1iZXJcIj09dHlwZW9mIG4mJjA8PW4pe2lmKHYuZ2V0U3RhdGUobik9PT1tLlBBVVNFRClyZXR1cm4gdi5yZXN1bWUobiksdm9pZCBUKHRoaXMsZik7di5zdG9wKG4pLGUuYXVkaW9JRD0tMX0tMSE9PShuPXYucGxheShvLHRoaXMubG9vcCx0aGlzLnZvbHVtZSkpPyhlLmF1ZGlvSUQ9bixcIm51bWJlclwiPT10eXBlb2YgdGhpcy5zdGFydFRpbWUmJjA8dGhpcy5zdGFydFRpbWUmJnYuc2V0Q3VycmVudFRpbWUobix0aGlzLnN0YXJ0VGltZSksVCh0aGlzLHApLHQ9dGhpcyx2LnNldENhblBsYXlDYWxsYmFjayhuLGZ1bmN0aW9uKCl7bz09PXQuc3JjJiYoVCh0LGkpLFQodCxmKSl9KSx2LnNldFdhaXRpbmdDYWxsYmFjayhuLGZ1bmN0aW9uKCl7bz09PXQuc3JjJiZUKHQscCl9KSx2LnNldEVycm9yQ2FsbGJhY2sobixmdW5jdGlvbigpe289PT10LnNyYyYmKGUuYXVkaW9JRD0tMSxUKHQsdSkpfSksdi5zZXRGaW5pc2hDYWxsYmFjayhuLGZ1bmN0aW9uKCl7bz09PXQuc3JjJiYoZS5hdWRpb0lEPS0xLFQodCxhKSl9KSk6VCh0aGlzLHUsW3tlcnJNc2c6XCJ1bmtub3duXCIsZXJyQ29kZTpifV0pfWVsc2UgVCh0aGlzLHUsW3tlcnJNc2c6XCJpbnZhbGlkIHNyY1wiLGVyckNvZGU6Z31dKX19LG8ucGF1c2U9ZnVuY3Rpb24oKXt2YXIgZT15LmdldCh0aGlzKTshZXx8XCJudW1iZXJcIj09dHlwZW9mKGU9ZS5hdWRpb0lEKSYmMDw9ZSYmKHYucGF1c2UoZSksVCh0aGlzLGMpKX0sby5zZWVrPWZ1bmN0aW9uKGUpe3ZhciB0PXkuZ2V0KHRoaXMpO3QmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lJiYoXCJudW1iZXJcIj09dHlwZW9mKHQ9dC5hdWRpb0lEKSYmMDw9dCYmKHYuc2V0Q3VycmVudFRpbWUodCxlKSxUKHRoaXMsbCksVCh0aGlzLHMpKSl9LG8uc3RvcD1mdW5jdGlvbigpe3ZhciBlLHQ9eS5nZXQodGhpcyk7IXR8fFwibnVtYmVyXCI9PXR5cGVvZihlPXQuYXVkaW9JRCkmJjA8PWUmJih2LnN0b3AoZSksdC5hdWRpb0lEPS0xLFQodGhpcyxkKSl9LG8ub2ZmQ2FucGxheT1mdW5jdGlvbihlKXtuKHRoaXMsaSxlKX0sby5vZmZFbmRlZD1mdW5jdGlvbihlKXtuKHRoaXMsYSxlKX0sby5vZmZFcnJvcj1mdW5jdGlvbihlKXtuKHRoaXMsdSxlKX0sby5vZmZQYXVzZT1mdW5jdGlvbihlKXtuKHRoaXMsYyxlKX0sby5vZmZQbGF5PWZ1bmN0aW9uKGUpe24odGhpcyxmLGUpfSxvLm9mZlNlZWtlZD1mdW5jdGlvbihlKXtuKHRoaXMscyxlKX0sby5vZmZTZWVraW5nPWZ1bmN0aW9uKGUpe24odGhpcyxsLGUpfSxvLm9mZlN0b3A9ZnVuY3Rpb24oZSl7bih0aGlzLGQsZSl9LG8ub2ZmVGltZVVwZGF0ZT1mdW5jdGlvbihlKXsxPT09bih0aGlzLGgsZSkmJmNsZWFySW50ZXJ2YWwoeS5nZXQodGhpcykuaW50ZXJ2YWxJRCl9LG8ub2ZmV2FpdGluZz1mdW5jdGlvbihlKXtuKHRoaXMscCxlKX0sby5vbkNhbnBsYXk9ZnVuY3Rpb24oZSl7cih0aGlzLGksZSl9LG8ub25FbmRlZD1mdW5jdGlvbihlKXtyKHRoaXMsYSxlKX0sby5vbkVycm9yPWZ1bmN0aW9uKGUpe3IodGhpcyx1LGUpfSxvLm9uUGF1c2U9ZnVuY3Rpb24oZSl7cih0aGlzLGMsZSl9LG8ub25QbGF5PWZ1bmN0aW9uKGUpe3IodGhpcyxmLGUpfSxvLm9uU2Vla2VkPWZ1bmN0aW9uKGUpe3IodGhpcyxzLGUpfSxvLm9uU2Vla2luZz1mdW5jdGlvbihlKXtyKHRoaXMsXCJzZWVraW5nQ2FsbGJhY2tzXCIsZSl9LG8ub25TdG9wPWZ1bmN0aW9uKGUpe3IodGhpcyxkLGUpfSxvLm9uVGltZVVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdCxvOzE9PT1yKHRoaXMsaCxlKSYmKGU9eS5nZXQodGhpcyksdD10aGlzLG89c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZT15LmdldCh0KTtlP1wibnVtYmVyXCI9PXR5cGVvZihlPWUuYXVkaW9JRCkmJjA8PWUmJnYuZ2V0U3RhdGUoZSk9PT1tLlBMQVlJTkcmJlQodCxoKTpjbGVhckludGVydmFsKG8pfSw1MDApLGUuaW50ZXJ2YWxJRD1vKX0sby5vbldhaXRpbmc9ZnVuY3Rpb24oZSl7cih0aGlzLHAsZSl9fSx7fV0sMjA6W2Z1bmN0aW9uKGUsdCxvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvLmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXtleHBvcnRUbzpmdW5jdGlvbihlLHQsbyxuKXt2YXIgcjtcIm9iamVjdFwiPT09aSh0KSYmXCJvYmplY3RcIj09PWkobyk/dm9pZCAwIT09KHI9dFtlXSk/XCJmdW5jdGlvblwiPT10eXBlb2Ygcj8ob1tlXT1yLmJpbmQodCksT2JqZWN0LmFzc2lnbihvW2VdLHIpKTpvW2VdPXI6KG9bZV09ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5lcnJvcihlK1wiIGlzIG5vdCBzdXBwb3J0IVwiKSx7fX0sXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbigpKTpjb25zb2xlLndhcm4oXCJpbnZhbGlkIGV4cG9ydFRvOiBcIixlKX19O28uZGVmYXVsdD1ufSx7fV19LHt9LFs5XSk7Il0sImZpbGUiOiJqc2IuanMifQ==
